ERROR - 2021-04-22 10:28:04 --> mysqli_sql_exception: Cannot delete or update a parent row: a foreign key constraint fails (`db_kasirtoko`.`supplier`, CONSTRAINT `fk_id_perusahaan` FOREIGN KEY (`id_perusahaan`) REFERENCES `perusahaan` (`id_perusahaan`)) in C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php:314
Stack trace:
#0 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(314): mysqli->query('DELETE FROM `pe...')
#1 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\BaseConnection.php(713): CodeIgniter\Database\MySQLi\Connection->execute('DELETE FROM `pe...')
#2 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\BaseConnection.php(641): CodeIgniter\Database\BaseConnection->simpleQuery('DELETE FROM `pe...')
#3 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(2864): CodeIgniter\Database\BaseConnection->query('DELETE FROM `pe...', Array, false)
#4 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Model.php(422): CodeIgniter\Database\BaseBuilder->delete()
#5 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\BaseModel.php(1009): CodeIgniter\Model->doDelete(Array, false)
#6 C:\xampp\htdocs\kasir\app\Controllers\Admin.php(618): CodeIgniter\BaseModel->delete(Array)
#7 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\CodeIgniter.php(936): App\Controllers\Admin->perusahaan_delete('2')
#8 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\CodeIgniter.php(432): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#9 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\CodeIgniter.php(333): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp\htdocs\kasir\index.php(44): CodeIgniter\CodeIgniter->run()
#11 {main}
CRITICAL - 2021-04-22 10:28:04 --> Cannot delete or update a parent row: a foreign key constraint fails (`db_kasirtoko`.`supplier`, CONSTRAINT `fk_id_perusahaan` FOREIGN KEY (`id_perusahaan`) REFERENCES `perusahaan` (`id_perusahaan`))
#0 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\MySQLi\Connection.php(314): mysqli->query('DELETE FROM `pe...')
#1 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\BaseConnection.php(713): CodeIgniter\Database\MySQLi\Connection->execute('DELETE FROM `pe...')
#2 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\BaseConnection.php(641): CodeIgniter\Database\BaseConnection->simpleQuery('DELETE FROM `pe...')
#3 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Database\BaseBuilder.php(2864): CodeIgniter\Database\BaseConnection->query('DELETE FROM `pe...', Array, false)
#4 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\Model.php(422): CodeIgniter\Database\BaseBuilder->delete()
#5 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\BaseModel.php(1009): CodeIgniter\Model->doDelete(Array, false)
#6 C:\xampp\htdocs\kasir\app\Controllers\Admin.php(618): CodeIgniter\BaseModel->delete(Array)
#7 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\CodeIgniter.php(936): App\Controllers\Admin->perusahaan_delete('2')
#8 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\CodeIgniter.php(432): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Admin))
#9 C:\xampp\htdocs\kasir\vendor\codeigniter4\framework\system\CodeIgniter.php(333): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#10 C:\xampp\htdocs\kasir\index.php(44): CodeIgniter\CodeIgniter->run()
#11 {main}
